function readTextFile(r){var t=new XMLHttpRequest;t.open("GET",r,!1);var n="";return t.onreadystatechange=function(){if(4===t.readyState&&(200===t.status||0===t.status)){var r=t.responseText;n=r}},t.send(null),n}function createArray(r){var t=new Array(r||0),n=r;if(arguments.length>1)for(var a=Array.prototype.slice.call(arguments,1);n--;)t[r-1-n]=createArray.apply(this,a);return t}function day1a(r){for(var t=0,n=0;n<r.length;n++)"("===r[n]?t++:t--;return t}function day1b(r){for(var t=0,n=0;n<r.length&&("("===r[n]?t++:t--,-1!==t);n++);return n+1}function day2a(r){for(var t=0,n=r.split("\n"),a=new Array(3),e,o=0;o<n.length;o++)e=n[o],a=e.split("x"),t+=2*(a[0]*a[1]+a[1]*a[2]+a[0]*a[2]),t+=Math.min(a[0]*a[1],a[1]*a[2],a[0]*a[2]);return t}function day2b(r){for(var t=0,n=r.split("\n"),a=new Array(3),e,o,c=0;c<n.length;c++)a=n[c].split("x").sort(function(r,t){return r-t}),e=2*a[0]+2*a[1],o=a[0]*a[1]*a[2],t+=e+o;return t}function day3a(r){for(var t=0,n=createArray(999,999),a=0;999>a;a++)for(var e=0;999>e;e++)n[a][e]=0;var o=499,c=499;n[o][c]++;for(var u=0;u<r.length;u++)switch(r[u]){case">":n[o][++c]++;break;case"<":n[o][--c]++;break;case"v":n[++o][c]++;break;case"^":n[--o][c]++}for(a=0;999>a;a++)for(e=0;999>e;e++)n[a][e]>0&&t++;return t}function day3b(r){for(var t=0,n=createArray(999,999),a=0;999>a;a++)for(var e=0;999>e;e++)n[a][e]=0;var o=499,c=499,u=499,i=499;n[o][c]++;for(var f=0;f<r.length;f+=2){switch(r[f]){case">":n[o][++c]++;break;case"<":n[o][--c]++;break;case"v":n[++o][c]++;break;case"^":n[--o][c]++}switch(r[f+1]){case">":n[u][++i]++;break;case"<":n[u][--i]++;break;case"v":n[++u][i]++;break;case"^":n[--u][i]++}}for(a=0;999>a;a++)for(e=0;999>e;e++)n[a][e]>0&&t++;return t}function day4a(r){for(var t=0,n="";;){if(n=r.concat(t),n=String(CryptoJS.MD5(n)),n.match(/^00000/gi))break;t++}return t}function day4b(r){for(var t=0,n="";;){if(n=r.concat(t),n=String(CryptoJS.MD5(n)),n.match(/^000000/gi))break;t++}return t}function day5a(r){function t(r){return null!=r.match(/(a|e|i|o|u)/g)?r.match(/(a|e|i|o|u)/g).length>=3:!1}function n(r){return Boolean(r.match(/([a-z])\1+/g))}function a(r){return Boolean(r.match(/ab|cd|pq|xy/g))}for(var e=0,o=r.split("\n"),c=0;c<o.length;c++)t(o[c])&&!a(o[c])&&n(o[c])&&e++;return e}function day5b(r){function t(r){return Boolean(r.match(/([a-z]{2}).*\1+/))}function n(r){return Boolean(r.match(/([a-z]).\1+/))}for(var a=0,e=r.split("\n"),o=0;o<e.length;o++)t(e[o])&&n(e[o])&&a++;return a}function day6a(r){function t(r){var t=r.match(/(.*) (\d+),(\d+) through (\d+),(\d+)/);return{action:t[1],start:{x:Math.min(t[2],t[4]),y:Math.min(t[3],t[5])},end:{x:Math.max(t[2],t[4]),y:Math.max(t[3],t[5])}}}function n(r,t){for(var n=t.start.x;n<=t.end.x;n++)for(var a=t.start.y;a<=t.end.y;a++)switch(void 0==r[n]&&(r[n]=[]),void 0==r[n][a]&&(r[n][a]=!1),t.action){case"turn on":r[n][a]=!0;break;case"turn off":r[n][a]=!1;break;case"toggle":r[n][a]=!r[n][a]}return r}var a=r.split("\n").filter(function(r){return r.length>0}),e=a.map(t).reduce(n,[]).reduce(function(r,t){return r+t.filter(function(r){return r}).length},0);return e}function day6b(r){function t(r){var t=r.match(/(.*) (\d+),(\d+) through (\d+),(\d+)/);return{action:t[1],start:{x:Math.min(t[2],t[4]),y:Math.min(t[3],t[5])},end:{x:Math.max(t[2],t[4]),y:Math.max(t[3],t[5])}}}function n(r,t){for(var n=t.start.x;n<=t.end.x;n++)for(var a=t.start.y;a<=t.end.y;a++)switch(void 0==r[n]&&(r[n]=[]),void 0==r[n][a]&&(r[n][a]=0),t.action){case"turn on":r[n][a]+=1;break;case"turn off":r[n][a]>0&&(r[n][a]-=1);break;case"toggle":r[n][a]+=2}return r}var a=r.split("\n").filter(function(r){return r.length>0}),e=a.map(t).reduce(n,[]).reduce(function(r,t){return r+t.reduce(function(r,t){return r+t},0)},0);return e}window.onload=function(){var r="input.txt",t="";t=readTextFile(r),document.getElementById("output").innerHTML=day6b(t).toString()};